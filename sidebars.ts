import type { SidebarsConfig } from '@docusaurus/plugin-content-docs';
// This runs in Node.js - Don't use client-side code here (browser APIs, JSX...)

import apiSidebar from './docs/api/sidebar.js';

// Substitute our custom intro page b/c it's nicer than the generated one.
const indexPage = apiSidebar[0]
if (!(indexPage.type === 'doc' && indexPage.id === 'api/the-plane-rest-api')) {
  throw new Error('Could not find API index page. Aborting.');
}
apiSidebar[0].id = 'api/introduction';

const sidebars: SidebarsConfig = {
  
  sidebar: [
    {
      type: 'doc',
      id: 'intro',
    },
    {
          type: "link",
          label: "Plane Documentation",
          href: "https://docs.plane.so/",
    },
  
    {
      type: 'category',
      collapsed: false,
      label: 'Self-host Plane',
      items: [
        "self-hosting/overview",
        "self-hosting/editions-and-versions"
      ],
    },
    {
      type: 'category',
      collapsed: false,
      label: 'Install',
      items: [
        {
          type: 'autogenerated',
          dirName: 'self-hosting/methods',
        },
      ],
    },
    {
      type: "category",
      collapsed: false,
      label: "Configure",
      items: [
        "self-hosting/govern/instance-admin",
        {
          type: "category",
          label: "Authentication",
          link: { type: "doc", id: "self-hosting/govern/authentication" },
          items: [
            "self-hosting/govern/google-oauth",
            "self-hosting/govern/github-oauth",
            "self-hosting/govern/oidc-sso",
            "self-hosting/govern/saml-sso",
            "self-hosting/govern/reset-password"
          ],
        },
        "self-hosting/govern/communication",
        "self-hosting/govern/configure-dns-email-service",
        "self-hosting/govern/database-and-storage",
        "self-hosting/govern/custom-domain",
        "self-hosting/govern/private-bucket",
        {
          type: "category",
          label: "Integrations",
          items: [
            "self-hosting/govern/integrations/github",
            "self-hosting/govern/integrations/slack",
            "self-hosting/govern/integrations/gitlab"
          ],
        },
        "self-hosting/govern/external-secrets",
        "self-hosting/govern/reverse-proxy",
        "self-hosting/govern/environment-variables",
        "self-hosting/govern/telemetry"
      ],
    },
    {
      type: 'category',
      collapsed: false,
      label: 'Manage',
      items: [
        "self-hosting/manage/upgrade-from-community",
        "self-hosting/manage/community-to-airgapped",
        "self-hosting/manage/backup-restore",
        {
          type: "category",
          label: "Update Plane",
          items: [
            "self-hosting/manage/upgrade-plane",
            "self-hosting/manage/upgrade-from-0.13.2-0.14.0"
          ],
        },
        "self-hosting/manage/view-logs",
        "self-hosting/manage/migrate-plane",
        "self-hosting/manage/prime-cli"
      ],
    },
     {
      type: 'category',
      collapsed: false,
      label: 'Troubleshoot',
      items: [
        {
          type: 'autogenerated',
          dirName: 'self-hosting/troubleshoot',
        },
      ],
    }
  ],

  apiSidebar: [
     {
      type: 'category',
      label: 'API Reference',
      link: {
        type: 'generated-index',
        title: 'Plane API',
        description:
          'Learn how to interact with Plane programmatically, including authentication, endpoints, and data structures.',
        slug: '/api',
      },
      items: apiSidebar,
    }
  ],

  devToolsSidebar: [

    {
      type: 'doc',
      id: 'webhooks/intro-webhooks',
    },
    {
      type: 'doc',
      id: 'apps/build-plane-app',
    },
    {
      type: 'doc',
      id: 'mcp-server/overview',
    },
    {
      type: 'doc',
      id: 'sdks/overview',
    }
    
  ],

};



export default sidebars;
