import type { SidebarsConfig } from '@docusaurus/plugin-content-docs';
// This runs in Node.js - Don't use client-side code here (browser APIs, JSX...)

import apiSidebar from './docs/api/sidebar.js';

// Substitute our custom intro page b/c it's nicer than the generated one.
const indexPage = apiSidebar[0]
if (!(indexPage.type === 'doc' && indexPage.id === 'api/the-plane-rest-api')) {
  throw new Error('Could not find API index page. Aborting.');
}
apiSidebar[0].id = 'api/introduction';

const sidebars: SidebarsConfig = {
  
  sidebar: [
    {
      type: 'doc',
      id: 'intro',
    },
    {
          type: "link",
          label: "Plane Documentation",
          href: "https://docs.plane.so/",
    },
  
    {
      type: 'category',
      collapsed: false,
      label: 'Self-host Plane',
      items: [
        "self-hosting/overview",
        "self-hosting/editions-and-versions"
      ],
    },
    {
      type: 'category',
      collapsed: false,
      label: 'Install',
      items: [
        {
          type: 'autogenerated',
          dirName: 'self-hosting/methods',
        },
      ],
    },
     {
      type: 'category',
      collapsed: false,
      label: 'Configure',
      items: [
        {
          type: 'autogenerated',
          dirName: 'self-hosting/govern',
        },
      ],
    },
     {
      type: 'category',
      collapsed: false,
      label: 'Manage',
      items: [
        {
          type: 'autogenerated',
          dirName: 'self-hosting/manage',
        },
      ],
    },
     {
      type: 'category',
      collapsed: false,
      label: 'Troubleshoot',
      items: [
        {
          type: 'autogenerated',
          dirName: 'self-hosting/troubleshoot',
        },
      ],
    }
  ],

  apiSidebar: [
     {
      type: 'category',
      label: 'API Reference',
      link: {
        type: 'generated-index',
        title: 'Plane API',
        description:
          'Learn how to interact with Plane programmatically, including authentication, endpoints, and data structures.',
        slug: '/api',
      },
      items: apiSidebar,
    }
  ],

  devToolsSidebar: [
    {
      type: 'category',
      collapsed: false,
      label: 'Webhooks',
      items: [
        {
          type: 'autogenerated',
          dirName: 'webhooks',
        },
      ],
    },
    {
       type: 'category',
       collapsed: false,
       label: 'App development',
       items: [
         {
           type: 'autogenerated',
           dirName: 'apps',
         },
       ],
     },
     {
      type: 'category',
      collapsed: false,
      label: 'SDKs',
      items: [
        {
          type: 'autogenerated',
          dirName: 'sdks',
        },
      ],
    },
    {
      type: 'category',
      collapsed: false,
      label: 'MCP Server',
      items: [
        {
          type: 'autogenerated',
          dirName: 'ai-solutions',
        },
      ],
    }

  ],

};



export default sidebars;
